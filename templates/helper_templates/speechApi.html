<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />

    <title>Document</title>
  </head>
  <body>
    <div class="container h-100 my-auto">
      <button
        type="button"
        onclick="log()"
        class="align-middle btn btn-primary"
      >
        Primary
      </button>
      <div id="res"></div>
    </div>
   </body>

  <!-- ==================================================================================
================================================================================== -->

   //<script>
    function listenToVoiceQuery(outputTag) {
      const result = document.querySelector('#res');
      const listening = false;

      if (!('webkitSpeechRecognition' in window)) {
        // TODO : Show a update to chrome message or completly hide this svg
      } else {
        const recognition = new webkitSpeechRecognition();
        // recognition.continuous = true;
        recognition.interimResults = true;
        recognition.lang = 'en-IN';
        // console.debug(recognition);

        recognition.onstart = (e) => {
          console.debug(`recognition started ${e}`);
        };

        recognition.onresult = (e) => {
          // console.debug(`recognition complete here is your result ${e.results[0][0].transcript}`);
          // console.debug(`here is your event ${e}`);
          const trans = e.results[0][0].transcript;
    
          console.debug(`recognition complete here is your result ${trans}`);
          result.innerHTML = trans;
          return trans;
        };

        recognition.onerror = (e) => {
          console.debug(` error occured : ${e.error}`);
        };
        recognition.onend = (e) => {
          console.debug('ended');
        };
      }

      function upgrade() {
        console.debug('upgrade');
      }

      function log() {
        console.debug('clicked');
        recognition.start();
      }
      const a = document.querySelector('#res');
      a.addEventListener('click', () => {
        log();
      });
    }
    </script>

  <!-- ==================================================================================
================================================================================== -->
<!-- </html> -->
